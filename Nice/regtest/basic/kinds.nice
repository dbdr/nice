
package regtest.basic;

abstract interface I {}

class KA implements I {}
class KB extends KA {}
class KC extends KB implements I {}
final class KD extends KC implements I {}

<I T> T kf(T);

kf(k@KA) = k;
kf(k#KA) = new KA();

kf(k#KB) = new KA();
kf(k@KB) = k;

kf(x@KD) = new KD();

void test_kinds()
{
  println("### Testing kinds ###");
  KA a = kf(new KA());
  a = kf(new KB());
  KC c = kf(new KC());
  KD d = kf(new KD());
}
